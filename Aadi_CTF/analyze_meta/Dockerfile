FROM ubuntu:20.04

# Set non-interactive mode and timezone to avoid prompts during installation
ENV DEBIAN_FRONTEND=noninteractive
ENV TZ=Asia/Kolkata

# Update package list and install required tools
RUN apt-get update && apt-get install -y exiftool wget

# Download a sample JPEG image (binary format) to avoid plain text issues
RUN wget https://img.freepik.com/free-photo/abstract-autumn-beauty-multi-colored-leaf-vein-pattern-generated-by-ai_188544-9871.jpg -O /report.jpg

# Embed the hidden flag in the metadata (Comment field) of the image
RUN exiftool -Comment="ctf_{hidden_metadata_flag}" /report.jpg

# Clean up unnecessary files generated by exiftool
RUN rm -f /report.jpg_original

# Set the working directory
WORKDIR /

# Default command to run the container
CMD ["/bin/bash"]

